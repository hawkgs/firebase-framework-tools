{"version":3,"file":"ngx-templates-shared-utils.mjs","sources":["../../../projects/shared/utils/src/query-params-builder.ts","../../../projects/shared/utils/src/safe-html.pipe.ts","../../../projects/shared/utils/src/uuid.ts","../../../projects/shared/utils/ngx-templates-shared-utils.ts"],"sourcesContent":["// Drop ?, =, & signs from the query parameter value\n// and then replace spaces with a plus\nconst filterParamValue = (paramVal: string) =>\n  paramVal.replace(/\\?|=|\\$|&/g, '').replace(/\\s/g, '+');\n\n/**\n * Builds a query parameter string by a provided object.\n *\n * @param params An object with the query params;\n * @returns\n */\nexport function buildQueryParamsString(params?: {\n  [key: string]: string | number | string[];\n}): string {\n  if (!params) {\n    return '';\n  }\n\n  const paramParts = [];\n\n  for (const key in params) {\n    if (!params[key]) {\n      continue;\n    }\n\n    const value = params[key];\n    let processedValue = value;\n\n    if (typeof params[key] === 'string') {\n      processedValue = filterParamValue(params[key] as string);\n    } else if (params[key] instanceof Array) {\n      processedValue = (params[key] as string[]).join(',');\n    }\n\n    paramParts.push(`${key}=${processedValue}`);\n  }\n\n  return '?' + paramParts.join('&');\n}\n","import { isPlatformBrowser } from '@angular/common';\nimport { inject, Pipe, PipeTransform, PLATFORM_ID } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n/**\n * Bypasses the built-in HTML sanitization.\n * Used for rendering HTML from a source.\n *\n * Script tags are stripped in order to prevent XSS.\n */\n@Pipe({\n  name: 'safeHtml',\n})\nexport class SafeHtmlPipe implements PipeTransform {\n  private _sanitizer = inject(DomSanitizer);\n  private _platformId = inject(PLATFORM_ID);\n\n  transform(html: string): SafeHtml {\n    const sanitized = this._sanitizeHtml(html);\n    return this._sanitizer.bypassSecurityTrustHtml(sanitized);\n  }\n\n  private _sanitizeHtml(html: string): string {\n    if (!isPlatformBrowser(this._platformId)) {\n      return '';\n    }\n\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n    const scriptTags = doc.querySelectorAll('script');\n    scriptTags.forEach((s) => s.remove());\n\n    return doc.body.innerHTML;\n  }\n}\n","/**\n * Generate a short UUID.\n *\n * WARNING: Use only for mock data.\n *\n * @returns UUID\n */\nexport function generateShortUUID(): string {\n  const characters =\n    '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  let uuid = '';\n\n  for (let i = 0; i < 8; i++) {\n    uuid += characters.charAt(Math.floor(Math.random() * characters.length));\n  }\n\n  return uuid;\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA,MAAM,gBAAgB,GAAG,CAAC,QAAgB,KACxC,QAAQ,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;AAExD;;;;;AAKG;AACG,SAAU,sBAAsB,CAAC,MAEtC,EAAA;IACC,IAAI,CAAC,MAAM,EAAE;AACX,QAAA,OAAO,EAAE;;IAGX,MAAM,UAAU,GAAG,EAAE;AAErB,IAAA,KAAK,MAAM,GAAG,IAAI,MAAM,EAAE;AACxB,QAAA,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;YAChB;;AAGF,QAAA,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC;QACzB,IAAI,cAAc,GAAG,KAAK;QAE1B,IAAI,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE;YACnC,cAAc,GAAG,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAW,CAAC;;AACnD,aAAA,IAAI,MAAM,CAAC,GAAG,CAAC,YAAY,KAAK,EAAE;YACvC,cAAc,GAAI,MAAM,CAAC,GAAG,CAAc,CAAC,IAAI,CAAC,GAAG,CAAC;;QAGtD,UAAU,CAAC,IAAI,CAAC,CAAA,EAAG,GAAG,CAAI,CAAA,EAAA,cAAc,CAAE,CAAA,CAAC;;IAG7C,OAAO,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;AACnC;;AClCA;;;;;AAKG;MAIU,YAAY,CAAA;AACf,IAAA,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC;AACjC,IAAA,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;AAEzC,IAAA,SAAS,CAAC,IAAY,EAAA;QACpB,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;QAC1C,OAAO,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,SAAS,CAAC;;AAGnD,IAAA,aAAa,CAAC,IAAY,EAAA;QAChC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;AACxC,YAAA,OAAO,EAAE;;AAGX,QAAA,MAAM,MAAM,GAAG,IAAI,SAAS,EAAE;QAC9B,MAAM,GAAG,GAAG,MAAM,CAAC,eAAe,CAAC,IAAI,EAAE,WAAW,CAAC;QACrD,MAAM,UAAU,GAAG,GAAG,CAAC,gBAAgB,CAAC,QAAQ,CAAC;AACjD,QAAA,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;AAErC,QAAA,OAAO,GAAG,CAAC,IAAI,CAAC,SAAS;;uGAnBhB,YAAY,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,IAAA,EAAA,CAAA;qGAAZ,YAAY,EAAA,YAAA,EAAA,IAAA,EAAA,IAAA,EAAA,UAAA,EAAA,CAAA;;2FAAZ,YAAY,EAAA,UAAA,EAAA,CAAA;kBAHxB,IAAI;AAAC,YAAA,IAAA,EAAA,CAAA;AACJ,oBAAA,IAAI,EAAE,UAAU;AACjB,iBAAA;;;ACZD;;;;;;AAMG;SACa,iBAAiB,GAAA;IAC/B,MAAM,UAAU,GACd,gEAAgE;IAClE,IAAI,IAAI,GAAG,EAAE;AAEb,IAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAC1B,QAAA,IAAI,IAAI,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;;AAG1E,IAAA,OAAO,IAAI;AACb;;ACjBA;;AAEG;;;;"}